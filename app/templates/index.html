<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Hunger for none</title>

        <link href="static/bootstrap-5.0.1-dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="static/main.css" rel="stylesheet">
    </head>
    <body>
        <script src="static/bootstrap-5.0.1-dist/js/bootstrap.min.js"></script>
        <script src="static/jquery-3.6.0.min.js"></script>

        <div class="main-box">
            <form method="POST" action="" enctype="multipart/form-data">
                <div class="buttons">
                    <button class="green-btn" type="button" onclick="$('.file-upload-input').trigger('click')">Add Image</button>
                    <input class="green-btn green-btn-side-by-side" type="submit" value="Run Simple Analysis" name="run_simple">
                    <input class="green-btn green-btn-side-by-side" type="submit" value="Run Advanced Analysis" name="run_advanced">
                </div>
                <div class="image-upload-wrap">
                    <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" name="file" />
                    <div class="drag-text">
                        <h3>drag and drop</h3>
                    </div>
                </div>
                <div class="file-upload-content">
                    <img class="file-upload-image" src="#" alt="your image" height=256 />
                    <div class="image-title-wrap">
                        <button type="button" onclick="removeUpload()" class="remove-image">Remove image</button>
                    </div>
                </div>
            </form>
        </div>

        <footer class="footer">
            <div class="container">
                <p>Web app by <a href="https://github.com/brodzik/" target="_blank">Adrian Brodzik</a>. Template by <a href="https://codepen.io/aaronvanston/pen/yNYOXR" target="_blank">CodePen</a>.</p>
            </div>
        </footer>

        <script id="rendered-js" >
            function readURL(input) {
              if (input.files && input.files[0]) {

                var reader = new FileReader();

                reader.onload = function (e) {
                  $('.image-upload-wrap').hide();

                  $('.file-upload-image').attr('src', e.target.result);
                  $('.file-upload-content').show();

                  //$('.image-title').html(input.files[0].name);
                };

                reader.readAsDataURL(input.files[0]);

              } else {
                removeUpload();
              }
            }

            function removeUpload() {
              $('.file-upload-input').replaceWith($('.file-upload-input').clone());
              $('.file-upload-content').hide();
              $('.image-upload-wrap').show();
            }
            $('.image-upload-wrap').bind('dragover', function () {
              $('.image-upload-wrap').addClass('image-dropping');
            });
            $('.image-upload-wrap').bind('dragleave', function () {
              $('.image-upload-wrap').removeClass('image-dropping');
            });
        </script>
    </body>
</html>